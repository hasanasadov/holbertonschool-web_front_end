<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 10</title>
        <script>
            type="application/javascript"
            src="https://code.jquery.com/jquery-3.7.1.js"
            integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
            crossorigin="anonymous">
        </script>

    </head>

    <body>

        <script type='application/javascript'>
            function addPostRow(data) {
              let p = $("<p></p>");
              let span = $("<span></span>");
    
              span.append("Post created with id " + data.id + ", title: " + data.title + ", author: " + data.author);
              p.append(span);
              $("body").append(p);
            }
    
            function listPosts() {
              $.get("http://localhost:3000/posts")
              .done(function(data) {
                data.forEach(item => {
                  addPostRow(item);
                });
              })
              .fail(function() {
                alert("Server Error");
              })
            }
    
            listPosts();
        </script>

    </body>

</html>
